[toc]

# 프로세스와 스케쥴러 이해 

# - 컨텍스트 스위칭 개념정리

## :heavy_check_mark: Context Switching (문맥 교환)

- CPU에 실행할 프로세스를 교체하는 기술

### 1. 실행 중지할 프로세스 정보 저장

> 실행 중지할 **프로세스 정보를 해당 프로세스의 PCB에 업데이트**해서, 메인 메모리에 저장

### 2. 다음 실행할 프로세스 정보 로드

> 다음 실행할 프로세스 정보를 **메인 메모리에 있는 해당 PCB (PC, SP)정보를  CPU의 레지스터에 넣고 실행**
>
> 디스패치(dispatch): ready 상태의 프로세스를 running 상태로 바꾸는 것

![image-20210221231632399](assets/image-20210221231632399.png)



- 프로세스 스위칭은 굉장히 짧은 시간 단위(ms)로 일어남

- 어셈블리어로 작성하면 좀 더 빠를 수 있음

  > ### 컴파일러
  >
  > - 초기 컴퓨터 프로그램들은 어셈블리어로 작성
  >   - 서로 다른 CPU 아키텍처가 등장할때마다 매번 똑같은 프로그램 작성
  >   - 어셈블리어로는 프로그램 작성 속도가 매우 떨어짐
  > - 컴파일러 등장
  >   - CPU 아키텍처에 따라서는 컴파일러 프로그램만 만들면 됨 -> 기존코드 재작성필요X
  >   - 그러나, 어셈블리어로 작성한 코드보다는 속도가 떨어질 수 있음
  > - 리눅스의 경우 컨텍스트 스위칭 코드는 각 CPU마다 별도로 존재

  

<hr>

## :heavy_check_mark: 정리

- 프로세스 구조
  - STACK, HEAP, DATA(BSS, DATA), TEXT(CODE)
- PCB
  - 프로세스 상태 정보, PC, SP, 메모리, 스케줄링 정보 등
- 컨텍스트 스위칭
  - 프로세스 상태 정보를 PCB로부터 CPU에 로드하고 실행









